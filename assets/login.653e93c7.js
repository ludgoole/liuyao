import{c as C,d as F,u as N,a as O,b as r,n as G,t as V,a2 as M,$,w as D,a5 as R,m as q,B as U,r as P,s as j,x as z,C as h,E as K,G as b,F as L,a6 as W,a7 as S,a8 as Y,a9 as H,I as x}from"./index.155ef6a3.js";import{F as J}from"./index.74949c3d.js";const[Q,X]=C("form"),Z={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:G,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:V,showErrorMessage:V,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var ee=F({name:Q,props:Z,emits:["submit","failed"],setup(s,{emit:o,slots:d}){const{children:n,linkChildren:c}=N($),i=e=>e?n.filter(t=>e.includes(t.name)):n,m=e=>new Promise((t,a)=>{const u=[];i(e).reduce((I,k)=>I.then(()=>{if(!u.length)return k.validate().then(y=>{y&&u.push(y)})}),Promise.resolve()).then(()=>{u.length?a(u):t()})}),f=e=>new Promise((t,a)=>{const u=i(e);Promise.all(u.map(l=>l.validate())).then(l=>{l=l.filter(Boolean),l.length?a(l):t()})}),g=e=>{const t=n.find(a=>a.name===e);return t?new Promise((a,u)=>{t.validate().then(l=>{l?u(l):a()})}):Promise.reject()},_=e=>typeof e=="string"?g(e):s.validateFirst?m(e):f(e),v=e=>{typeof e=="string"&&(e=[e]),i(e).forEach(a=>{a.resetValidation()})},B=()=>n.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),p=(e,t)=>{n.some(a=>a.name===e?(a.$el.scrollIntoView(t),!0):!1)},E=()=>n.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),w=()=>{const e=E();_().then(()=>o("submit",e)).catch(t=>{o("failed",{values:e,errors:t}),s.scrollToError&&t[0].name&&p(t[0].name)})},T=e=>{M(e),w()};return c({props:s}),O({submit:w,validate:_,getValues:E,scrollToField:p,resetValidation:v,getValidationStatus:B}),()=>{var e;return r("form",{class:X(),onSubmit:T},[(e=d.default)==null?void 0:e.call(d)])}}});const te=D(ee),[ne,A]=C("cell-group"),ae={title:String,inset:Boolean,border:V};var se=F({name:ne,inheritAttrs:!1,props:ae,setup(s,{slots:o,attrs:d}){const n=()=>{var i;return r("div",q({class:[A({inset:s.inset}),{[U]:s.border&&!s.inset}]},d),[(i=o.default)==null?void 0:i.call(o)])},c=()=>r("div",{class:A("title",{inset:s.inset})},[o.title?o.title():s.title]);return()=>s.title||o.title?r(R,null,[c(),n()]):n()}});const oe=D(se);const le={class:"Login","text-center":""},re=h("div",{class:"logo","mt-32":""},[h("i",{"text-6xl":"",class:"i-codicon:color-mode"})],-1),ie={style:{margin:"16px"}},ue=L(" \u63D0\u4EA4 "),de=F({__name:"login",setup(s){const o=H(),d="\u6613\u65AD\u5929\u673A",n=P(""),c=P(""),i=m=>{if(m.password!=="123456")return W({message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u6B63\u786E"});o.push("/"),S.setItem("Authorization","token"),S.setItem("userInfo",{...m,role:m.username==="admin"?"ADMIN":""})};return(m,f)=>{const g=J,_=oe,v=Y,B=te;return j(),z("div",le,[re,h("h1",{class:"title","mt-4":""},K(d)),r(B,{"mt-8":"",onSubmit:i},{default:b(()=>[r(_,{inset:""},{default:b(()=>[r(g,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=p=>n.value=p),name:"username",label:"\u7528\u6237\u540D",placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),r(g,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=p=>c.value=p),type:"password",name:"password",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"])]),_:1}),h("div",ie,[r(v,{round:"",block:"",type:"primary","native-type":"submit"},{default:b(()=>[ue]),_:1})])]),_:1})])}}});typeof x=="function"&&x(de);export{de as default};
